{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eytan/Desktop/coding/codingAcademy/projects/spaceX/spaceX-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/eytan/Desktop/coding/codingAcademy/projects/spaceX/spaceX-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{storageService}from'../basic/async-storage.service';import axios from'axios';var STORAGE_KEY_LANDING='landing';export var landingService={setLandings:setLandings,getLandingById:getLandingById};window.landingService=landingService;function setLandings(){return _setLandings.apply(this,arguments);}function _setLandings(){_setLandings=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var landings;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return storageService.query(STORAGE_KEY_LANDING);case 2:landings=_context.sent;console.log('landings from storage',landings);if(!(!landings||landings.length===0)){_context.next=13;break;}_context.next=7;return axios.get(' https://api.spacexdata.com/v4/launches');case 7:landings=_context.sent;landings=landings.data;console.log('landings from set',landings);storageService.post(STORAGE_KEY_LANDING,landings);_context.next=14;break;case 13:landings=landings[0];case 14:return _context.abrupt(\"return\",landings);case 15:case\"end\":return _context.stop();}}},_callee);}));return _setLandings.apply(this,arguments);}function getLandingById(_x){return _getLandingById.apply(this,arguments);}function _getLandingById(){_getLandingById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(landingId){var landing;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return storageService.get(STORAGE_KEY_LANDING,landingId);case 2:landing=_context2.sent;return _context2.abrupt(\"return\",landing);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _getLandingById.apply(this,arguments);}","map":{"version":3,"names":["storageService","axios","STORAGE_KEY_LANDING","landingService","setLandings","getLandingById","window","query","landings","console","log","length","get","data","post","landingId","landing"],"sources":["/Users/eytan/Desktop/coding/codingAcademy/projects/spaceX/spaceX-frontend/src/services/landing/landing.service.js"],"sourcesContent":["import { storageService } from '../basic/async-storage.service'\nimport axios from 'axios'\nconst STORAGE_KEY_LANDING = 'landing'\n\nexport const landingService = {\n    setLandings,\n    getLandingById,\n}\n\nwindow.landingService = landingService\n\n\nasync function setLandings() {\n    let landings = await storageService.query(STORAGE_KEY_LANDING)\n\n    console.log('landings from storage', landings)\n    if (!landings || landings.length === 0) {\n        landings = await axios.get(' https://api.spacexdata.com/v4/launches')\n        landings = landings.data\n        console.log('landings from set', landings)\n        storageService.post(STORAGE_KEY_LANDING, landings)\n    } else {\n        landings = landings[0]\n    }\n    return landings\n\n}\n\nasync function getLandingById(landingId) {\n    const landing = await storageService.get(STORAGE_KEY_LANDING, landingId)\n    return landing;\n}\n\n"],"mappings":"8UAAA,OAASA,cAAT,KAA+B,gCAA/B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,GAAMC,oBAAmB,CAAG,SAA5B,CAEA,MAAO,IAAMC,eAAc,CAAG,CAC1BC,WAAW,CAAXA,WAD0B,CAE1BC,cAAc,CAAdA,cAF0B,CAAvB,CAKPC,MAAM,CAACH,cAAP,CAAwBA,cAAxB,C,QAGeC,Y,6IAAf,wKACyBJ,eAAc,CAACO,KAAf,CAAqBL,mBAArB,CADzB,QACQM,QADR,eAGIC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCF,QAArC,EAHJ,KAIQ,CAACA,QAAD,EAAaA,QAAQ,CAACG,MAAT,GAAoB,CAJzC,iDAKyBV,MAAK,CAACW,GAAN,CAAU,yCAAV,CALzB,QAKQJ,QALR,eAMQA,QAAQ,CAAGA,QAAQ,CAACK,IAApB,CACAJ,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCF,QAAjC,EACAR,cAAc,CAACc,IAAf,CAAoBZ,mBAApB,CAAyCM,QAAzC,EARR,+BAUQA,QAAQ,CAAGA,QAAQ,CAAC,CAAD,CAAnB,CAVR,wCAYWA,QAZX,yD,sDAgBeH,e,wJAAf,kBAA8BU,SAA9B,2JAC0Bf,eAAc,CAACY,GAAf,CAAmBV,mBAAnB,CAAwCa,SAAxC,CAD1B,QACUC,OADV,iDAEWA,OAFX,0D"},"metadata":{},"sourceType":"module"}