{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eytan/Desktop/coding/codingAcademy/projects/spaceX/spaceX-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/eytan/Desktop/coding/codingAcademy/projects/spaceX/spaceX-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var storageService={query:query,post:post,get:get,put:put,remove:remove};function query(entityType){var entities=JSON.parse(localStorage.getItem(entityType))||[];return new Promise(function(resolve,reject){setTimeout(function(){resolve(entities);},1000);});}function post(_x,_x2){return _post.apply(this,arguments);}function _post(){_post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(entityType,newEntity){var Landings;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return query(entityType);case 2:Landings=_context.sent;Landings.push(newEntity);_save(entityType,Landings);return _context.abrupt(\"return\",newEntity);case 6:case\"end\":return _context.stop();}}},_callee);}));return _post.apply(this,arguments);}function _save(entityType,entities){localStorage.setItem(entityType,JSON.stringify(entities));}function get(entityType,entityId){return query(entityType).then(function(entities){return entities.find(function(entity){return entity._id===entityId;});});}function put(entityType,updatedEntity){return query(entityType).then(function(entities){var idx=entities.findIndex(function(entity){return entity._id===updatedEntity._id;});entities.splice(idx,1,updatedEntity);_save(entityType,entities);return updatedEntity;});}function remove(entityType,entityId){return query(entityType).then(function(entities){var idx=entities.findIndex(function(entity){return entity._id===entityId;});entities.splice(idx,1);_save(entityType,entities);});}","map":{"version":3,"names":["storageService","query","post","get","put","remove","entityType","entities","JSON","parse","localStorage","getItem","Promise","resolve","reject","setTimeout","newEntity","Landings","push","_save","setItem","stringify","entityId","then","find","entity","_id","updatedEntity","idx","findIndex","splice"],"sources":["/Users/eytan/Desktop/coding/codingAcademy/projects/spaceX/spaceX-frontend/src/services/basic/async-storage.service.js"],"sourcesContent":["export const storageService = {\n    query,\n    post,\n    get,\n    put,\n    remove,\n}\n\nfunction query(entityType) {\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            resolve(entities)\n        }, 1000)\n    })\n}\n\nasync function post(entityType, newEntity) {\n    const Landings = await query(entityType)\n    Landings.push(newEntity)\n    _save(entityType, Landings)\n    return newEntity\n}\n\nfunction _save(entityType, entities) {\n    localStorage.setItem(entityType, JSON.stringify(entities))\n}\n\n\n\nfunction get(entityType, entityId) {\n    return query(entityType)\n        .then(entities => entities.find(entity => entity._id === entityId))\n}\n\nfunction put(entityType, updatedEntity) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\n            entities.splice(idx, 1, updatedEntity)\n            _save(entityType, entities)\n            return updatedEntity\n        })\n}\n\nfunction remove(entityType, entityId) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity._id === entityId)\n            entities.splice(idx, 1)\n            _save(entityType, entities)\n        })\n}"],"mappings":"8UAAA,MAAO,IAAMA,eAAc,CAAG,CAC1BC,KAAK,CAALA,KAD0B,CAE1BC,IAAI,CAAJA,IAF0B,CAG1BC,GAAG,CAAHA,GAH0B,CAI1BC,GAAG,CAAHA,GAJ0B,CAK1BC,MAAM,CAANA,MAL0B,CAAvB,CAQP,QAASJ,MAAT,CAAeK,UAAf,CAA2B,CACvB,GAAIC,SAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,UAArB,CAAX,GAAgD,EAA/D,CACA,MAAO,IAAIM,QAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACpCC,UAAU,CAAC,UAAM,CACbF,OAAO,CAACN,QAAD,CAAP,CACH,CAFS,CAEP,IAFO,CAAV,CAGH,CAJM,CAAP,CAKH,C,QAEcL,K,8HAAf,iBAAoBI,UAApB,CAAgCU,SAAhC,uJAC2Bf,MAAK,CAACK,UAAD,CADhC,QACUW,QADV,eAEIA,QAAQ,CAACC,IAAT,CAAcF,SAAd,EACAG,KAAK,CAACb,UAAD,CAAaW,QAAb,CAAL,CAHJ,gCAIWD,SAJX,wD,uCAOA,QAASG,MAAT,CAAeb,UAAf,CAA2BC,QAA3B,CAAqC,CACjCG,YAAY,CAACU,OAAb,CAAqBd,UAArB,CAAiCE,IAAI,CAACa,SAAL,CAAed,QAAf,CAAjC,EACH,CAID,QAASJ,IAAT,CAAaG,UAAb,CAAyBgB,QAAzB,CAAmC,CAC/B,MAAOrB,MAAK,CAACK,UAAD,CAAL,CACFiB,IADE,CACG,SAAAhB,QAAQ,QAAIA,SAAQ,CAACiB,IAAT,CAAc,SAAAC,MAAM,QAAIA,OAAM,CAACC,GAAP,GAAeJ,QAAnB,EAApB,CAAJ,EADX,CAAP,CAEH,CAED,QAASlB,IAAT,CAAaE,UAAb,CAAyBqB,aAAzB,CAAwC,CACpC,MAAO1B,MAAK,CAACK,UAAD,CAAL,CACFiB,IADE,CACG,SAAAhB,QAAQ,CAAI,CACd,GAAMqB,IAAG,CAAGrB,QAAQ,CAACsB,SAAT,CAAmB,SAAAJ,MAAM,QAAIA,OAAM,CAACC,GAAP,GAAeC,aAAa,CAACD,GAAjC,EAAzB,CAAZ,CACAnB,QAAQ,CAACuB,MAAT,CAAgBF,GAAhB,CAAqB,CAArB,CAAwBD,aAAxB,EACAR,KAAK,CAACb,UAAD,CAAaC,QAAb,CAAL,CACA,MAAOoB,cAAP,CACH,CANE,CAAP,CAOH,CAED,QAAStB,OAAT,CAAgBC,UAAhB,CAA4BgB,QAA5B,CAAsC,CAClC,MAAOrB,MAAK,CAACK,UAAD,CAAL,CACFiB,IADE,CACG,SAAAhB,QAAQ,CAAI,CACd,GAAMqB,IAAG,CAAGrB,QAAQ,CAACsB,SAAT,CAAmB,SAAAJ,MAAM,QAAIA,OAAM,CAACC,GAAP,GAAeJ,QAAnB,EAAzB,CAAZ,CACAf,QAAQ,CAACuB,MAAT,CAAgBF,GAAhB,CAAqB,CAArB,EACAT,KAAK,CAACb,UAAD,CAAaC,QAAb,CAAL,CACH,CALE,CAAP,CAMH"},"metadata":{},"sourceType":"module"}